<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id="content"></div>
    <script>
        let model = {
            cakeTypes: [
                { id: 1, name: 'Bløtkake', fillings: [1, 3] },
                { id: 1, name: 'Abckake', fillings: [1, 2] },
            ],
            fillings: [
                { id: 1, name: 'Jordbær', pristillegg: 5 },
                { id: 2, name: 'Vanilje', pristillegg: 0 },
                { id: 3, name: 'Sjokolade', pristillegg: 3 },
            ]
        };

        show();
        function show() {
            let html = '<ul>';
            for (let cakeType of model.cakeTypes) {
                let fillingsHtml = '';
                let pristillegg = 0;
                for (let fillingId of cakeType.fillings) {
                    let filling = model.fillings.filter(f=>f.id == fillingId)[0];
                    fillingsHtml += `<li>${filling.name}</li>`;
                    pristillegg += filling.pristillegg;
                }
                html += `
                        <li>
                            ${cakeType.name} <br/>
                            (${pristillegg} kr) <br/>
                            Fyll:
                                <ul>
                                    ${fillingsHtml} 
                                </ul>
                        </li>
                    `;
            }
            document.getElementById('content').innerHTML = html;
        }

    </script>
</body>

</html>